const ContextMenuLib=(()=>{let t=null,e=null;const n=(e,n)=>{t&&i();const{clientX:o,clientY:l}=e;n.style.display="block";const c=n.offsetWidth,d=n.offsetHeight,u=o+c>window.innerWidth?window.innerWidth-c-10:o,r=l+d>window.innerHeight?window.innerHeight-d-10:l;n.style.left=`${u}px`,n.style.top=`${r}px`,t=n},i=()=>{t&&(t.style.display="none",t=null)},o=(t,i)=>{const o=t.touches[0];e=setTimeout(()=>{n(o,i)},500)},l=()=>{e&&(clearTimeout(e),e=null)},c=()=>{e&&(clearTimeout(e),e=null)};return{init:()=>{document.querySelectorAll(".cm-toggle").forEach(t=>{const e=t.getAttribute("data-cm-target"),i=document.querySelector(e);i&&(t.addEventListener("contextmenu",t=>{t.preventDefault(),n(t,i)}),t.addEventListener("touchstart",t=>{o(t,i)}),t.addEventListener("touchend",l),t.addEventListener("touchmove",c))}),document.addEventListener("click",i),document.addEventListener("touchstart",i)}}})();ContextMenuLib.init();
